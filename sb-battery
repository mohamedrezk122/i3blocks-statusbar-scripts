#!/bin/python3 

import os 
import subprocess 

path = "/sys/class/power_supply/BAT0"

status = open(f"{path}/status").readline().replace("\n","")
capacity = int(open(f"{path}/capacity").readline().replace("\n",""))

status_icons = {"Discharging"  : "ğŸ”‹"  ,
                "Charging"     : "ğŸ”Œ"  ,
                "Full"         : "âš¡"  ,
                "Not charging" : "ğŸ”‹"  ,
                "Unknown"      : "â”"  }

def warn():
    prompt = "ğŸª«Battery is low , connect the charger "
    subprocess.call(["notify-send", prompt], \
    stdout=open(os.devnull, "w"), stderr=subprocess.STDOUT)


icon = status_icons[status]

if status == "Discharging" and capacity <= 25 : 
    warn()
    icon = "ğŸª«"

print(f"{icon}{capacity}%")


